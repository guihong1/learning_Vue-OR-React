<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»ƒä¹ é¢˜2ï¼šåŠ¨æ€è·¯ç”± - Vue Router å­¦ä¹ </title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-bottom: 2rem;
            border-radius: 12px;
        }

        .exercise-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .exercise-title {
            color: #667eea;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e1e8ff;
        }

        .nav-demo {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .nav-links {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .nav-links a {
            padding: 0.5rem 1rem;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .nav-links a.router-link-active {
            background: #4c51bf;
            box-shadow: 0 4px 12px rgba(76, 81, 191, 0.4);
        }

        .content-area {
            background: #fff;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 2rem;
            margin: 1rem 0;
            min-height: 300px;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            margin: 0.5rem;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #4a5568;
        }

        .btn-secondary:hover {
            background: #cbd5e0;
        }

        .btn-success {
            background: #48bb78;
            color: white;
        }

        .btn-success:hover {
            background: #38a169;
        }

        .info-box {
            background: #e6fffa;
            border-left: 4px solid #38b2ac;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: #fffbeb;
            border-left: 4px solid #f6ad55;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
            overflow-x: auto;
            font-size: 0.9rem;
        }

        .route-info {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .route-info h4 {
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .route-info p {
            color: #4a5568;
            margin: 0.25rem 0;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .demo-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1.5rem;
        }

        .demo-card h4 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e2e8f0;
            border-radius: 6px;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .user-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            margin: 1rem 0;
        }

        .user-avatar {
            width: 100px;
            height: 100px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .product-card {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .product-image {
            height: 150px;
            background: linear-gradient(45deg, #f0f0f0, #e0e0e0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        .product-info {
            padding: 1rem;
        }

        .product-price {
            color: #e53e3e;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 0.5rem 0;
        }

        .breadcrumb {
            background: #f8f9fa;
            padding: 0.75rem 1rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: #667eea;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s ease;
        }

        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }

        .error-page {
            text-align: center;
            padding: 4rem 2rem;
        }

        .error-code {
            font-size: 4rem;
            font-weight: bold;
            color: #e53e3e;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .nav-links {
                flex-direction: column;
            }
            
            .demo-grid {
                grid-template-columns: 1fr;
            }
            
            .product-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <div class="header">
                <h1>ğŸ¯ ç»ƒä¹ é¢˜2ï¼šåŠ¨æ€è·¯ç”±åŒ¹é…</h1>
                <p>å­¦ä¹ è·¯å¾„å‚æ•°ã€æŸ¥è¯¢å‚æ•°ã€å‚æ•°å˜åŒ–å“åº”å’Œ404å¤„ç†</p>
            </div>

            <!-- å¯¼èˆªèœå• -->
            <div class="nav-demo">
                <h4>å¯¼èˆªèœå•ï¼š</h4>
                <div class="nav-links">
                    <router-link to="/">é¦–é¡µ</router-link>
                    <router-link to="/users">ç”¨æˆ·åˆ—è¡¨</router-link>
                    <router-link to="/products">äº§å“åˆ—è¡¨</router-link>
                    <router-link to="/search">æœç´¢é¡µé¢</router-link>
                </div>
                
                <h4 style="margin-top: 1rem;">å¿«é€Ÿè·³è½¬ç¤ºä¾‹ï¼š</h4>
                <div class="nav-links">
                    <router-link to="/users/1">ç”¨æˆ·1</router-link>
                    <router-link to="/users/2">ç”¨æˆ·2</router-link>
                    <router-link to="/products/101">äº§å“101</router-link>
                    <router-link to="/products/102">äº§å“102</router-link>
                    <router-link to="/search?q=vue&category=frontend">æœç´¢ç¤ºä¾‹</router-link>
                </div>
            </div>

            <!-- è·¯ç”±ä¿¡æ¯æ˜¾ç¤º -->
            <div class="route-info">
                <h4>å½“å‰è·¯ç”±ä¿¡æ¯ï¼š</h4>
                <p><strong>è·¯å¾„ï¼š</strong> {{ $route.path }}</p>
                <p><strong>è·¯å¾„å‚æ•°ï¼š</strong> {{ JSON.stringify($route.params) }}</p>
                <p><strong>æŸ¥è¯¢å‚æ•°ï¼š</strong> {{ JSON.stringify($route.query) }}</p>
                <p><strong>å®Œæ•´è·¯å¾„ï¼š</strong> {{ $route.fullPath }}</p>
            </div>

            <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
            <div class="content-area">
                <router-view v-slot="{ Component }">
                    <transition name="fade" mode="out-in">
                        <component :is="Component" :key="$route.fullPath" />
                    </transition>
                </router-view>
            </div>

            <!-- ç»ƒä¹ 1ï¼šåŠ¨æ€è·¯ç”±å‚æ•° -->
            <div class="exercise-section">
                <h2 class="exercise-title">ç»ƒä¹ 1ï¼šè·¯å¾„å‚æ•°çš„ä½¿ç”¨</h2>
                
                <div class="info-box">
                    <strong>å­¦ä¹ ç›®æ ‡ï¼š</strong>
                    <ul>
                        <li>ç†è§£åŠ¨æ€è·¯ç”±çš„æ¦‚å¿µå’Œè¯­æ³•</li>
                        <li>æŒæ¡è·¯å¾„å‚æ•°çš„è·å–æ–¹æ³•</li>
                        <li>å­¦ä¼šå“åº”å‚æ•°å˜åŒ–</li>
                        <li>äº†è§£å‚æ•°éªŒè¯å’Œç±»å‹è½¬æ¢</li>
                    </ul>
                </div>

                <div class="demo-grid">
                    <div class="demo-card">
                        <h4>ç”¨æˆ·IDè·³è½¬</h4>
                        <div class="form-group">
                            <label>è¾“å…¥ç”¨æˆ·IDï¼š</label>
                            <input type="number" v-model="userId" placeholder="è¯·è¾“å…¥ç”¨æˆ·ID">
                        </div>
                        <button class="btn btn-primary" @click="goToUser">æŸ¥çœ‹ç”¨æˆ·</button>
                        <div class="code-block" style="margin-top: 1rem;">
                            <div>// è·¯ç”±é…ç½®</div>
                            <div>{ path: '/users/:id', component: UserDetail }</div>
                        </div>
                    </div>

                    <div class="demo-card">
                        <h4>äº§å“åˆ†ç±»è·³è½¬</h4>
                        <div class="form-group">
                            <label>é€‰æ‹©äº§å“åˆ†ç±»ï¼š</label>
                            <select v-model="selectedCategory">
                                <option value="electronics">ç”µå­äº§å“</option>
                                <option value="clothing">æœè£…</option>
                                <option value="books">å›¾ä¹¦</option>
                                <option value="sports">è¿åŠ¨ç”¨å“</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>è¾“å…¥äº§å“IDï¼š</label>
                            <input type="number" v-model="productId" placeholder="è¯·è¾“å…¥äº§å“ID">
                        </div>
                        <button class="btn btn-primary" @click="goToProduct">æŸ¥çœ‹äº§å“</button>
                        <div class="code-block" style="margin-top: 1rem;">
                            <div>// å¤šå‚æ•°è·¯ç”±</div>
                            <div>{ path: '/products/:category/:id', ... }</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç»ƒä¹ 2ï¼šæŸ¥è¯¢å‚æ•° -->
            <div class="exercise-section">
                <h2 class="exercise-title">ç»ƒä¹ 2ï¼šæŸ¥è¯¢å‚æ•°çš„å¤„ç†</h2>
                
                <div class="info-box">
                    <strong>å­¦ä¹ ç›®æ ‡ï¼š</strong>
                    <ul>
                        <li>æŒæ¡æŸ¥è¯¢å‚æ•°çš„è®¾ç½®å’Œè·å–</li>
                        <li>å­¦ä¼šå¤„ç†å¤æ‚çš„æŸ¥è¯¢æ¡ä»¶</li>
                        <li>äº†è§£æŸ¥è¯¢å‚æ•°çš„ç¼–ç å’Œè§£ç </li>
                        <li>å®ç°æœç´¢åŠŸèƒ½çš„è·¯ç”±è®¾è®¡</li>
                    </ul>
                </div>

                <div class="demo-card">
                    <h4>æœç´¢åŠŸèƒ½æ¼”ç¤º</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div class="form-group">
                            <label>æœç´¢å…³é”®è¯ï¼š</label>
                            <input type="text" v-model="searchQuery" placeholder="è¾“å…¥æœç´¢å…³é”®è¯">
                        </div>
                        <div class="form-group">
                            <label>åˆ†ç±»ç­›é€‰ï¼š</label>
                            <select v-model="searchCategory">
                                <option value="">å…¨éƒ¨åˆ†ç±»</option>
                                <option value="frontend">å‰ç«¯å¼€å‘</option>
                                <option value="backend">åç«¯å¼€å‘</option>
                                <option value="mobile">ç§»åŠ¨å¼€å‘</option>
                                <option value="ai">äººå·¥æ™ºèƒ½</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>æ’åºæ–¹å¼ï¼š</label>
                            <select v-model="searchSort">
                                <option value="relevance">ç›¸å…³æ€§</option>
                                <option value="date">æ—¶é—´</option>
                                <option value="popularity">çƒ­åº¦</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>æ¯é¡µæ•°é‡ï¼š</label>
                            <select v-model="searchLimit">
                                <option value="10">10æ¡</option>
                                <option value="20">20æ¡</option>
                                <option value="50">50æ¡</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn btn-success" @click="performSearch">æ‰§è¡Œæœç´¢</button>
                    <div class="code-block" style="margin-top: 1rem;">
                        <div>// æŸ¥è¯¢å‚æ•°ç¤ºä¾‹</div>
                        <div>/search?q=vue&category=frontend&sort=date&limit=20</div>
                    </div>
                </div>
            </div>

            <!-- ç»ƒä¹ 3ï¼šå‚æ•°å˜åŒ–å“åº” -->
            <div class="exercise-section">
                <h2 class="exercise-title">ç»ƒä¹ 3ï¼šå‚æ•°å˜åŒ–çš„å“åº”å¤„ç†</h2>
                
                <div class="info-box">
                    <strong>å­¦ä¹ ç›®æ ‡ï¼š</strong>
                    <ul>
                        <li>ç†è§£å‚æ•°å˜åŒ–æ—¶ç»„ä»¶çš„è¡Œä¸º</li>
                        <li>æŒæ¡ watch ç›‘å¬å‚æ•°å˜åŒ–</li>
                        <li>å­¦ä¼šä½¿ç”¨ key å¼ºåˆ¶é‡æ–°æ¸²æŸ“</li>
                        <li>äº†è§£å‚æ•°å˜åŒ–çš„æ€§èƒ½ä¼˜åŒ–</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <strong>é‡è¦æç¤ºï¼š</strong> å½“è·¯ç”±å‚æ•°å˜åŒ–æ—¶ï¼Œç›¸åŒçš„ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è¿™æ„å‘³ç€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ä¸ä¼šè¢«é‡æ–°è°ƒç”¨ã€‚éœ€è¦é€šè¿‡ watch æˆ–ä½¿ç”¨ key æ¥å“åº”å‚æ•°å˜åŒ–ã€‚
                </div>

                <div class="demo-card">
                    <h4>å¿«é€Ÿåˆ‡æ¢ç”¨æˆ·æµ‹è¯•</h4>
                    <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®å¿«é€Ÿåˆ‡æ¢ä¸åŒç”¨æˆ·ï¼Œè§‚å¯Ÿç»„ä»¶å¦‚ä½•å“åº”å‚æ•°å˜åŒ–ï¼š</p>
                    <div style="margin: 1rem 0;">
                        <button v-for="id in [1,2,3,4,5]" :key="id" 
                                class="btn btn-secondary" 
                                @click="$router.push('/users/' + id)">
                            ç”¨æˆ· {{ id }}
                        </button>
                    </div>
                    <div class="code-block">
                        <div>// ç›‘å¬å‚æ•°å˜åŒ–</div>
                        <div>watch(() => route.params.id, (newId) => {</div>
                        <div>  // å‚æ•°å˜åŒ–æ—¶çš„å¤„ç†é€»è¾‘</div>
                        <div>  loadUserData(newId)</div>
                        <div>})</div>
                    </div>
                </div>
            </div>

            <!-- ç»ƒä¹ 4ï¼š404é”™è¯¯å¤„ç† -->
            <div class="exercise-section">
                <h2 class="exercise-title">ç»ƒä¹ 4ï¼š404é”™è¯¯é¡µé¢å¤„ç†</h2>
                
                <div class="info-box">
                    <strong>å­¦ä¹ ç›®æ ‡ï¼š</strong>
                    <ul>
                        <li>å­¦ä¼šé…ç½®é€šé…ç¬¦è·¯ç”±</li>
                        <li>æŒæ¡404é¡µé¢çš„è®¾è®¡</li>
                        <li>äº†è§£è·¯ç”±ä¼˜å…ˆçº§å’ŒåŒ¹é…è§„åˆ™</li>
                        <li>å®ç°å‹å¥½çš„é”™è¯¯æç¤º</li>
                    </ul>
                </div>

                <div class="demo-card">
                    <h4>æµ‹è¯•404é¡µé¢</h4>
                    <p>ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥æµ‹è¯•ä¸å­˜åœ¨çš„é¡µé¢ï¼š</p>
                    <div style="margin: 1rem 0;">
                        <router-link to="/nonexistent" class="btn btn-secondary">ä¸å­˜åœ¨çš„é¡µé¢</router-link>
                        <router-link to="/users/999" class="btn btn-secondary">ä¸å­˜åœ¨çš„ç”¨æˆ·</router-link>
                        <router-link to="/products/invalid/123" class="btn btn-secondary">æ— æ•ˆçš„äº§å“è·¯å¾„</router-link>
                    </div>
                    <div class="code-block">
                        <div>// 404è·¯ç”±é…ç½®</div>
                        <div>{ path: '/:pathMatch(.*)*', component: NotFound }</div>
                    </div>
                </div>
            </div>

            <!-- æ€»ç»“ -->
            <div class="exercise-section">
                <h2 class="exercise-title">ğŸ“š å­¦ä¹ æ€»ç»“</h2>
                
                <div class="demo-grid">
                    <div class="demo-card">
                        <h4>âœ… è·¯å¾„å‚æ•°</h4>
                        <ul style="padding-left: 1.5rem;">
                            <li>ä½¿ç”¨ :param å®šä¹‰åŠ¨æ€è·¯ç”±</li>
                            <li>é€šè¿‡ $route.params è·å–å‚æ•°</li>
                            <li>æ”¯æŒå¤šä¸ªå‚æ•°å’Œå¯é€‰å‚æ•°</li>
                            <li>å‚æ•°å˜åŒ–æ—¶éœ€è¦ç‰¹æ®Šå¤„ç†</li>
                        </ul>
                    </div>

                    <div class="demo-card">
                        <h4>âœ… æŸ¥è¯¢å‚æ•°</h4>
                        <ul style="padding-left: 1.5rem;">
                            <li>é€šè¿‡ $route.query è·å–æŸ¥è¯¢å‚æ•°</li>
                            <li>é€‚ç”¨äºæœç´¢ã€ç­›é€‰ç­‰åœºæ™¯</li>
                            <li>å‚æ•°ä¼šè‡ªåŠ¨ç¼–ç å’Œè§£ç </li>
                            <li>å¯ä»¥ä¸è·¯å¾„å‚æ•°ç»„åˆä½¿ç”¨</li>
                        </ul>
                    </div>

                    <div class="demo-card">
                        <h4>âœ… æœ€ä½³å®è·µ</h4>
                        <ul style="padding-left: 1.5rem;">
                            <li>åˆç†è®¾è®¡è·¯ç”±ç»“æ„</li>
                            <li>å¤„ç†å‚æ•°å˜åŒ–çš„å“åº”</li>
                            <li>æä¾›å‹å¥½çš„404é¡µé¢</li>
                            <li>æ³¨æ„å‚æ•°çš„éªŒè¯å’Œç±»å‹è½¬æ¢</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, computed, watch, onMounted } = Vue;
        const { createRouter, createWebHashHistory, useRouter, useRoute } = VueRouter;

        // æ¨¡æ‹Ÿæ•°æ®
        const mockUsers = [
            { id: 1, name: 'å¼ ä¸‰', email: 'zhangsan@example.com', role: 'ç®¡ç†å‘˜', avatar: 'ğŸ‘¨â€ğŸ’¼' },
            { id: 2, name: 'æå››', email: 'lisi@example.com', role: 'å¼€å‘è€…', avatar: 'ğŸ‘¨â€ğŸ’»' },
            { id: 3, name: 'ç‹äº”', email: 'wangwu@example.com', role: 'è®¾è®¡å¸ˆ', avatar: 'ğŸ¨' },
            { id: 4, name: 'èµµå…­', email: 'zhaoliu@example.com', role: 'æµ‹è¯•å‘˜', avatar: 'ğŸ”' },
            { id: 5, name: 'é’±ä¸ƒ', email: 'qianqi@example.com', role: 'äº§å“ç»ç†', avatar: 'ğŸ“Š' }
        ];

        const mockProducts = {
            electronics: [
                { id: 101, name: 'æ™ºèƒ½æ‰‹æœº', price: 2999, icon: 'ğŸ“±' },
                { id: 102, name: 'ç¬”è®°æœ¬ç”µè„‘', price: 5999, icon: 'ğŸ’»' },
                { id: 103, name: 'æ™ºèƒ½æ‰‹è¡¨', price: 1299, icon: 'âŒš' }
            ],
            clothing: [
                { id: 201, name: 'ä¼‘é—²Tæ¤', price: 99, icon: 'ğŸ‘•' },
                { id: 202, name: 'ç‰›ä»”è£¤', price: 299, icon: 'ğŸ‘–' },
                { id: 203, name: 'è¿åŠ¨é‹', price: 599, icon: 'ğŸ‘Ÿ' }
            ],
            books: [
                { id: 301, name: 'Vue.jså®æˆ˜', price: 79, icon: 'ğŸ“š' },
                { id: 302, name: 'JavaScripté«˜çº§ç¨‹åºè®¾è®¡', price: 99, icon: 'ğŸ“–' },
                { id: 303, name: 'ç®—æ³•å¯¼è®º', price: 129, icon: 'ğŸ“˜' }
            ],
            sports: [
                { id: 401, name: 'ç¯®çƒ', price: 199, icon: 'ğŸ€' },
                { id: 402, name: 'ç½‘çƒæ‹', price: 399, icon: 'ğŸ¾' },
                { id: 403, name: 'è·‘æ­¥æœº', price: 2999, icon: 'ğŸƒâ€â™‚ï¸' }
            ]
        };

        // ç»„ä»¶å®šä¹‰
        const Home = {
            template: `
                <div>
                    <h2>ğŸ  åŠ¨æ€è·¯ç”±ç»ƒä¹ é¦–é¡µ</h2>
                    <p>æ¬¢è¿æ¥åˆ°åŠ¨æ€è·¯ç”±ç»ƒä¹ é¡µé¢ï¼è¿™é‡Œä½ å¯ä»¥å­¦ä¹ å’Œå®è·µå„ç§åŠ¨æ€è·¯ç”±çš„ç”¨æ³•ã€‚</p>
                    
                    <div style="margin-top: 2rem;">
                        <h3>ğŸ¯ ç»ƒä¹ å†…å®¹</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
                            <div style="padding: 1rem; background: #f0f8ff; border-radius: 8px;">
                                <h4>ğŸ‘¥ ç”¨æˆ·ç®¡ç†</h4>
                                <p>å­¦ä¹ ç”¨æˆ·è¯¦æƒ…é¡µé¢çš„åŠ¨æ€è·¯ç”±å®ç°</p>
                                <router-link to="/users" class="btn btn-primary" style="margin-top: 0.5rem;">æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨</router-link>
                            </div>
                            <div style="padding: 1rem; background: #f0fff0; border-radius: 8px;">
                                <h4>ğŸ›ï¸ äº§å“å±•ç¤º</h4>
                                <p>å®è·µå¤šå‚æ•°åŠ¨æ€è·¯ç”±å’Œåˆ†ç±»ç®¡ç†</p>
                                <router-link to="/products" class="btn btn-primary" style="margin-top: 0.5rem;">æŸ¥çœ‹äº§å“åˆ—è¡¨</router-link>
                            </div>
                            <div style="padding: 1rem; background: #fff5f5; border-radius: 8px;">
                                <h4>ğŸ” æœç´¢åŠŸèƒ½</h4>
                                <p>æŒæ¡æŸ¥è¯¢å‚æ•°çš„ä½¿ç”¨å’Œå¤„ç†</p>
                                <router-link to="/search" class="btn btn-primary" style="margin-top: 0.5rem;">ä½“éªŒæœç´¢</router-link>
                            </div>
                        </div>
                    </div>
                </div>
            `
        };

        const UserList = {
            template: `
                <div>
                    <div class="breadcrumb">
                        <router-link to="/">é¦–é¡µ</router-link> / ç”¨æˆ·åˆ—è¡¨
                    </div>
                    
                    <h2>ğŸ‘¥ ç”¨æˆ·åˆ—è¡¨</h2>
                    <p>ç‚¹å‡»ç”¨æˆ·å¡ç‰‡æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
                    
                    <div class="product-grid">
                        <div v-for="user in users" :key="user.id" 
                             class="product-card" 
                             @click="$router.push('/users/' + user.id)"
                             style="cursor: pointer;">
                            <div class="product-image">{{ user.avatar }}</div>
                            <div class="product-info">
                                <h4>{{ user.name }}</h4>
                                <p>{{ user.role }}</p>
                                <p style="color: #666; font-size: 0.9rem;">{{ user.email }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `,
            setup() {
                return { users: mockUsers };
            }
        };

        const UserDetail = {
            template: `
                <div>
                    <div class="breadcrumb">
                        <router-link to="/">é¦–é¡µ</router-link> / 
                        <router-link to="/users">ç”¨æˆ·åˆ—è¡¨</router-link> / 
                        ç”¨æˆ·è¯¦æƒ…
                    </div>
                    
                    <div v-if="loading" style="text-align: center; padding: 2rem;">
                        <p>åŠ è½½ä¸­...</p>
                    </div>
                    
                    <div v-else-if="user" class="user-card">
                        <div class="user-avatar">{{ user.avatar }}</div>
                        <h2>{{ user.name }}</h2>
                        <p style="opacity: 0.9; margin: 0.5rem 0;">{{ user.role }}</p>
                        <p style="opacity: 0.8;">{{ user.email }}</p>
                        
                        <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.2);">
                            <p><strong>ç”¨æˆ·ID:</strong> {{ user.id }}</p>
                            <p><strong>è®¿é—®æ—¶é—´:</strong> {{ visitTime }}</p>
                            <p><strong>å‚æ•°å˜åŒ–æ¬¡æ•°:</strong> {{ paramChangeCount }}</p>
                        </div>
                    </div>
                    
                    <div v-else class="error-page">
                        <div class="error-code">404</div>
                        <h3>ç”¨æˆ·ä¸å­˜åœ¨</h3>
                        <p>IDä¸º {{ $route.params.id }} çš„ç”¨æˆ·ä¸å­˜åœ¨</p>
                        <router-link to="/users" class="btn btn-primary">è¿”å›ç”¨æˆ·åˆ—è¡¨</router-link>
                    </div>
                    
                    <div style="margin-top: 2rem; text-align: center;">
                        <router-link to="/users" class="btn btn-secondary">â† è¿”å›ç”¨æˆ·åˆ—è¡¨</router-link>
                    </div>
                </div>
            `,
            setup() {
                const route = useRoute();
                const user = ref(null);
                const loading = ref(false);
                const visitTime = ref('');
                const paramChangeCount = ref(0);

                const loadUser = async () => {
                    loading.value = true;
                    paramChangeCount.value++;
                    visitTime.value = new Date().toLocaleString();
                    
                    // æ¨¡æ‹Ÿå¼‚æ­¥åŠ è½½
                    await new Promise(resolve => setTimeout(resolve, 500));
                    
                    const userId = parseInt(route.params.id);
                    user.value = mockUsers.find(u => u.id === userId) || null;
                    loading.value = false;
                };

                // ç›‘å¬å‚æ•°å˜åŒ–
                watch(() => route.params.id, loadUser, { immediate: true });

                return {
                    user,
                    loading,
                    visitTime,
                    paramChangeCount
                };
            }
        };

        const ProductList = {
            template: `
                <div>
                    <div class="breadcrumb">
                        <router-link to="/">é¦–é¡µ</router-link> / äº§å“åˆ—è¡¨
                    </div>
                    
                    <h2>ğŸ›ï¸ äº§å“åˆ†ç±»</h2>
                    <p>é€‰æ‹©åˆ†ç±»æŸ¥çœ‹äº§å“</p>
                    
                    <div class="product-grid">
                        <div v-for="(products, category) in productCategories" :key="category" 
                             class="product-card" 
                             @click="$router.push('/products/' + category)"
                             style="cursor: pointer;">
                            <div class="product-image">ğŸ“¦</div>
                            <div class="product-info">
                                <h4>{{ getCategoryName(category) }}</h4>
                                <p>{{ products.length }} ä¸ªäº§å“</p>
                            </div>
                        </div>
                    </div>
                </div>
            `,
            setup() {
                const productCategories = mockProducts;
                
                const getCategoryName = (category) => {
                    const names = {
                        electronics: 'ç”µå­äº§å“',
                        clothing: 'æœè£…',
                        books: 'å›¾ä¹¦',
                        sports: 'è¿åŠ¨ç”¨å“'
                    };
                    return names[category] || category;
                };

                return { productCategories, getCategoryName };
            }
        };

        const ProductCategory = {
            template: `
                <div>
                    <div class="breadcrumb">
                        <router-link to="/">é¦–é¡µ</router-link> / 
                        <router-link to="/products">äº§å“åˆ—è¡¨</router-link> / 
                        {{ categoryName }}
                    </div>
                    
                    <h2>{{ categoryName }}</h2>
                    <p>ç‚¹å‡»äº§å“æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</p>
                    
                    <div v-if="products.length" class="product-grid">
                        <div v-for="product in products" :key="product.id" 
                             class="product-card" 
                             @click="$router.push('/products/' + $route.params.category + '/' + product.id)"
                             style="cursor: pointer;">
                            <div class="product-image">{{ product.icon }}</div>
                            <div class="product-info">
                                <h4>{{ product.name }}</h4>
                                <div class="product-price">Â¥{{ product.price }}</div>
                            </div>
                        </div>
                    </div>
                    
                    <div v-else class="error-page">
                        <div class="error-code">404</div>
                        <h3>åˆ†ç±»ä¸å­˜åœ¨</h3>
                        <p>åˆ†ç±» "{{ $route.params.category }}" ä¸å­˜åœ¨</p>
                        <router-link to="/products" class="btn btn-primary">è¿”å›äº§å“åˆ—è¡¨</router-link>
                    </div>
                </div>
            `,
            setup() {
                const route = useRoute();
                
                const products = computed(() => {
                    return mockProducts[route.params.category] || [];
                });
                
                const categoryName = computed(() => {
                    const names = {
                        electronics: 'ç”µå­äº§å“',
                        clothing: 'æœè£…',
                        books: 'å›¾ä¹¦',
                        sports: 'è¿åŠ¨ç”¨å“'
                    };
                    return names[route.params.category] || route.params.category;
                });

                return { products, categoryName };
            }
        };

        const ProductDetail = {
            template: `
                <div>
                    <div class="breadcrumb">
                        <router-link to="/">é¦–é¡µ</router-link> / 
                        <router-link to="/products">äº§å“åˆ—è¡¨</router-link> / 
                        <router-link :to="'/products/' + $route.params.category">{{ categoryName }}</router-link> / 
                        äº§å“è¯¦æƒ…
                    </div>
                    
                    <div v-if="product" style="display: grid; grid-template-columns: 1fr 2fr; gap: 2rem; align-items: start;">
                        <div style="text-align: center; padding: 2rem; background: #f8f9fa; border-radius: 12px;">
                            <div style="font-size: 6rem; margin-bottom: 1rem;">{{ product.icon }}</div>
                            <h2>{{ product.name }}</h2>
                            <div class="product-price" style="font-size: 2rem; margin: 1rem 0;">Â¥{{ product.price }}</div>
                        </div>
                        
                        <div style="padding: 2rem; background: white; border-radius: 12px; border: 1px solid #e2e8f0;">
                            <h3>äº§å“ä¿¡æ¯</h3>
                            <div style="margin: 1rem 0;">
                                <p><strong>äº§å“ID:</strong> {{ product.id }}</p>
                                <p><strong>äº§å“åç§°:</strong> {{ product.name }}</p>
                                <p><strong>æ‰€å±åˆ†ç±»:</strong> {{ categoryName }}</p>
                                <p><strong>ä»·æ ¼:</strong> Â¥{{ product.price }}</p>
                                <p><strong>æŸ¥çœ‹æ—¶é—´:</strong> {{ viewTime }}</p>
                            </div>
                            
                            <div style="margin-top: 2rem;">
                                <button class="btn btn-success" style="margin-right: 1rem;">ç«‹å³è´­ä¹°</button>
                                <button class="btn btn-secondary">åŠ å…¥è´­ç‰©è½¦</button>
                            </div>
                        </div>
                    </div>
                    
                    <div v-else class="error-page">
                        <div class="error-code">404</div>
                        <h3>äº§å“ä¸å­˜åœ¨</h3>
                        <p>åœ¨åˆ†ç±» "{{ categoryName }}" ä¸­æ‰¾ä¸åˆ°IDä¸º {{ $route.params.id }} çš„äº§å“</p>
                        <router-link :to="'/products/' + $route.params.category" class="btn btn-primary">è¿”å›åˆ†ç±»</router-link>
                    </div>
                </div>
            `,
            setup() {
                const route = useRoute();
                const viewTime = ref('');
                
                const product = computed(() => {
                    const categoryProducts = mockProducts[route.params.category] || [];
                    const productId = parseInt(route.params.id);
                    return categoryProducts.find(p => p.id === productId) || null;
                });
                
                const categoryName = computed(() => {
                    const names = {
                        electronics: 'ç”µå­äº§å“',
                        clothing: 'æœè£…',
                        books: 'å›¾ä¹¦',
                        sports: 'è¿åŠ¨ç”¨å“'
                    };
                    return names[route.params.category] || route.params.category;
                });

                onMounted(() => {
                    viewTime.value = new Date().toLocaleString();
                });

                return { product, categoryName, viewTime };
            }
        };

        const Search = {
            template: `
                <div>
                    <div class="breadcrumb">
                        <router-link to="/">é¦–é¡µ</router-link> / æœç´¢
                    </div>
                    
                    <h2>ğŸ” æœç´¢ç»“æœ</h2>
                    
                    <div v-if="hasQuery" style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <h4>æœç´¢æ¡ä»¶ï¼š</h4>
                        <p v-if="query"><strong>å…³é”®è¯:</strong> {{ query }}</p>
                        <p v-if="category"><strong>åˆ†ç±»:</strong> {{ getCategoryName(category) }}</p>
                        <p v-if="sort"><strong>æ’åº:</strong> {{ getSortName(sort) }}</p>
                        <p v-if="limit"><strong>æ¯é¡µ:</strong> {{ limit }} æ¡</p>
                    </div>
                    
                    <div v-if="!hasQuery" style="text-align: center; padding: 4rem; color: #666;">
                        <h3>ğŸ” å¼€å§‹æœç´¢</h3>
                        <p>è¯·ä½¿ç”¨ä¸Šæ–¹çš„æœç´¢è¡¨å•è¿›è¡Œæœç´¢ï¼Œæˆ–è€…ç‚¹å‡»ä¸‹é¢çš„ç¤ºä¾‹é“¾æ¥ï¼š</p>
                        <div style="margin-top: 2rem;">
                            <router-link to="/search?q=vue" class="btn btn-secondary" style="margin: 0.5rem;">æœç´¢ Vue</router-link>
                            <router-link to="/search?q=javascript&category=frontend" class="btn btn-secondary" style="margin: 0.5rem;">å‰ç«¯ JavaScript</router-link>
                            <router-link to="/search?category=ai&sort=popularity" class="btn btn-secondary" style="margin: 0.5rem;">çƒ­é—¨ AI</router-link>
                        </div>
                    </div>
                    
                    <div v-else>
                        <div style="margin: 2rem 0;">
                            <p style="color: #666;">æ‰¾åˆ° {{ mockResults.length }} ä¸ªç»“æœ</p>
                        </div>
                        
                        <div class="product-grid">
                            <div v-for="result in mockResults" :key="result.id" class="product-card">
                                <div class="product-image">{{ result.icon }}</div>
                                <div class="product-info">
                                    <h4>{{ result.title }}</h4>
                                    <p style="color: #666; font-size: 0.9rem;">{{ result.description }}</p>
                                    <div style="margin-top: 0.5rem;">
                                        <span style="background: #e2e8f0; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">{{ result.category }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `,
            setup() {
                const route = useRoute();
                
                const query = computed(() => route.query.q || '');
                const category = computed(() => route.query.category || '');
                const sort = computed(() => route.query.sort || '');
                const limit = computed(() => route.query.limit || '');
                
                const hasQuery = computed(() => {
                    return query.value || category.value || sort.value || limit.value;
                });
                
                const mockResults = computed(() => {
                    if (!hasQuery.value) return [];
                    
                    return [
                        { id: 1, title: 'Vue.js 3.0 å®Œå…¨æŒ‡å—', description: 'æ·±å…¥å­¦ä¹  Vue 3 çš„æ–°ç‰¹æ€§å’Œæœ€ä½³å®è·µ', category: 'å‰ç«¯å¼€å‘', icon: 'ğŸ“š' },
                        { id: 2, title: 'JavaScript é«˜çº§ç¼–ç¨‹', description: 'æŒæ¡ JavaScript çš„é«˜çº§æ¦‚å¿µå’ŒæŠ€å·§', category: 'å‰ç«¯å¼€å‘', icon: 'ğŸ’»' },
                        { id: 3, title: 'React vs Vue å¯¹æ¯”', description: 'è¯¦ç»†å¯¹æ¯”ä¸¤ä¸ªæµè¡Œå‰ç«¯æ¡†æ¶çš„ä¼˜ç¼ºç‚¹', category: 'å‰ç«¯å¼€å‘', icon: 'âš–ï¸' },
                        { id: 4, title: 'Node.js åç«¯å¼€å‘', description: 'ä½¿ç”¨ Node.js æ„å»ºé«˜æ€§èƒ½åç«¯åº”ç”¨', category: 'åç«¯å¼€å‘', icon: 'ğŸš€' },
                        { id: 5, title: 'ç§»åŠ¨ç«¯å¼€å‘å®æˆ˜', description: 'è·¨å¹³å°ç§»åŠ¨åº”ç”¨å¼€å‘æŠ€æœ¯åˆ†äº«', category: 'ç§»åŠ¨å¼€å‘', icon: 'ğŸ“±' },
                        { id: 6, title: 'äººå·¥æ™ºèƒ½å…¥é—¨', description: 'AI å’Œæœºå™¨å­¦ä¹ çš„åŸºç¡€çŸ¥è¯†ä»‹ç»', category: 'äººå·¥æ™ºèƒ½', icon: 'ğŸ¤–' }
                    ];
                });
                
                const getCategoryName = (cat) => {
                    const names = {
                        frontend: 'å‰ç«¯å¼€å‘',
                        backend: 'åç«¯å¼€å‘',
                        mobile: 'ç§»åŠ¨å¼€å‘',
                        ai: 'äººå·¥æ™ºèƒ½'
                    };
                    return names[cat] || cat;
                };
                
                const getSortName = (sortType) => {
                    const names = {
                        relevance: 'ç›¸å…³æ€§',
                        date: 'æ—¶é—´',
                        popularity: 'çƒ­åº¦'
                    };
                    return names[sortType] || sortType;
                };

                return {
                    query,
                    category,
                    sort,
                    limit,
                    hasQuery,
                    mockResults,
                    getCategoryName,
                    getSortName
                };
            }
        };

        const NotFound = {
            template: `
                <div class="error-page">
                    <div class="error-code">404</div>
                    <h3>é¡µé¢ä¸å­˜åœ¨</h3>
                    <p>æŠ±æ­‰ï¼Œæ‚¨è®¿é—®çš„é¡µé¢ "{{ $route.path }}" ä¸å­˜åœ¨ã€‚</p>
                    <div style="margin-top: 2rem;">
                        <router-link to="/" class="btn btn-primary">è¿”å›é¦–é¡µ</router-link>
                        <button class="btn btn-secondary" @click="$router.go(-1)" style="margin-left: 1rem;">è¿”å›ä¸Šä¸€é¡µ</button>
                    </div>
                </div>
            `
        };

        // è·¯ç”±é…ç½®
        const routes = [
            { path: '/', component: Home },
            { path: '/users', component: UserList },
            { path: '/users/:id', component: UserDetail },
            { path: '/products', component: ProductList },
            { path: '/products/:category', component: ProductCategory },
            { path: '/products/:category/:id', component: ProductDetail },
            { path: '/search', component: Search },
            { path: '/:pathMatch(.*)*', component: NotFound }
        ];

        const router = createRouter({
            history: createWebHashHistory(),
            routes
        });

        // åˆ›å»ºåº”ç”¨
        const app = createApp({
            setup() {
                const router = useRouter();
                const userId = ref(1);
                const productId = ref(101);
                const selectedCategory = ref('electronics');
                const searchQuery = ref('');
                const searchCategory = ref('');
                const searchSort = ref('relevance');
                const searchLimit = ref('20');

                const goToUser = () => {
                    if (userId.value) {
                        router.push(`/users/${userId.value}`);
                    }
                };

                const goToProduct = () => {
                    if (selectedCategory.value && productId.value) {
                        router.push(`/products/${selectedCategory.value}/${productId.value}`);
                    }
                };

                const performSearch = () => {
                    const query = {};
                    if (searchQuery.value) query.q = searchQuery.value;
                    if (searchCategory.value) query.category = searchCategory.value;
                    if (searchSort.value && searchSort.value !== 'relevance') query.sort = searchSort.value;
                    if (searchLimit.value && searchLimit.value !== '20') query.limit = searchLimit.value;
                    
                    router.push({ path: '/search', query });
                };

                return {
                    userId,
                    productId,
                    selectedCategory,
                    searchQuery,
                    searchCategory,
                    searchSort,
                    searchLimit,
                    goToUser,
                    goToProduct,
                    performSearch
                };
            }
        });

        app.use(router);
        app.mount('#app');
    </script>
</body>
</html>