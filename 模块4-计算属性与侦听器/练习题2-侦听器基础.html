<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»ƒä¹ é¢˜2ï¼šä¾¦å¬å™¨åŸºç¡€ - Vue3</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .content {
            padding: 30px;
        }

        .exercise {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #a29bfe;
        }

        .exercise-title {
            font-size: 1.4em;
            color: #2d3436;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .exercise-description {
            color: #636e72;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .search-container {
            position: relative;
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #a29bfe;
            box-shadow: 0 0 0 3px rgba(162, 155, 254, 0.1);
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #636e72;
        }

        .search-status {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }

        .status-searching {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .status-results {
            background: #d4edda;
            color: #155724;
            border: 1px solid #00b894;
        }

        .status-no-results {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #e17055;
        }

        .results-container {
            background: white;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
        }

        .result-item {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .result-item:hover {
            background: #f8f9fa;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-title {
            font-weight: bold;
            color: #2d3436;
            margin-bottom: 5px;
        }

        .result-description {
            color: #636e72;
            font-size: 14px;
        }

        .form-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2d3436;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #a29bfe;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .validation-message {
            margin-top: 5px;
            font-size: 14px;
            padding: 5px;
            border-radius: 3px;
        }

        .validation-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #e17055;
        }

        .validation-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #00b894;
        }

        .validation-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .user-profile {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            margin-right: 15px;
        }

        .profile-info h3 {
            color: #2d3436;
            margin-bottom: 5px;
        }

        .profile-info p {
            color: #636e72;
            font-size: 14px;
        }

        .activity-log {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
        }

        .activity-item {
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
            font-size: 14px;
            color: #636e72;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-time {
            color: #a29bfe;
            font-weight: bold;
        }

        .tips {
            background: #e8f4fd;
            border: 1px solid #a29bfe;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
        }

        .tips h4 {
            color: #6c5ce7;
            margin-bottom: 10px;
        }

        .tips ul {
            color: #636e72;
            padding-left: 20px;
        }

        .tips li {
            margin-bottom: 5px;
        }

        .auto-save-status {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: bold;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .save-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #00b894;
        }

        .save-saving {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <div class="header">
                <h1>ğŸ‘€ ç»ƒä¹ é¢˜2ï¼šä¾¦å¬å™¨åŸºç¡€</h1>
                <p>é˜²æŠ–æœç´¢ä¸è¡¨å•éªŒè¯ - æŒæ¡watchçš„å®é™…åº”ç”¨</p>
            </div>

            <div class="content">
                <!-- ç»ƒä¹ 1ï¼šé˜²æŠ–æœç´¢ -->
                <div class="exercise">
                    <h2 class="exercise-title">ğŸ” ç»ƒä¹ 1ï¼šé˜²æŠ–æœç´¢åŠŸèƒ½</h2>
                    <p class="exercise-description">
                        å®ç°ä¸€ä¸ªå¸¦é˜²æŠ–åŠŸèƒ½çš„æœç´¢æ¡†ï¼Œä½¿ç”¨ä¾¦å¬å™¨ç›‘æ§æœç´¢å…³é”®è¯å˜åŒ–ï¼Œé¿å…é¢‘ç¹çš„APIè°ƒç”¨ã€‚
                    </p>

                    <div class="search-container">
                        <input 
                            type="text" 
                            class="search-input" 
                            v-model="searchQuery"
                            placeholder="æœç´¢å•†å“ã€æ–‡ç« ã€ç”¨æˆ·..."
                        >
                        <span class="search-icon">ğŸ”</span>
                    </div>

                    <div v-if="searchStatus" class="search-status" :class="searchStatusClass">
                        {{ searchStatus }}
                    </div>

                    <div v-if="searchResults.length > 0" class="results-container">
                        <div 
                            v-for="result in searchResults" 
                            :key="result.id" 
                            class="result-item"
                            @click="selectResult(result)"
                        >
                            <div class="result-title">{{ result.title }}</div>
                            <div class="result-description">{{ result.description }}</div>
                        </div>
                    </div>
                </div>

                <!-- ç»ƒä¹ 2ï¼šè¡¨å•éªŒè¯ -->
                <div class="exercise">
                    <h2 class="exercise-title">âœ… ç»ƒä¹ 2ï¼šå®æ—¶è¡¨å•éªŒè¯</h2>
                    <p class="exercise-description">
                        ä½¿ç”¨ä¾¦å¬å™¨å®ç°å®æ—¶è¡¨å•éªŒè¯ï¼Œç›‘æ§ç”¨æˆ·è¾“å…¥å¹¶æä¾›å³æ—¶åé¦ˆã€‚
                    </p>

                    <div class="form-container">
                        <div class="form-group">
                            <label>ç”¨æˆ·å:</label>
                            <input 
                                type="text" 
                                v-model="formData.username"
                                placeholder="è¯·è¾“å…¥ç”¨æˆ·å (3-20ä¸ªå­—ç¬¦)"
                            >
                            <div v-if="validationMessages.username" 
                                 class="validation-message" 
                                 :class="validationClasses.username">
                                {{ validationMessages.username }}
                            </div>
                        </div>

                        <div class="form-group">
                            <label>é‚®ç®±:</label>
                            <input 
                                type="email" 
                                v-model="formData.email"
                                placeholder="è¯·è¾“å…¥é‚®ç®±åœ°å€"
                            >
                            <div v-if="validationMessages.email" 
                                 class="validation-message" 
                                 :class="validationClasses.email">
                                {{ validationMessages.email }}
                            </div>
                        </div>

                        <div class="form-group">
                            <label>å¯†ç :</label>
                            <input 
                                type="password" 
                                v-model="formData.password"
                                placeholder="è¯·è¾“å…¥å¯†ç  (è‡³å°‘8ä½ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—)"
                            >
                            <div v-if="validationMessages.password" 
                                 class="validation-message" 
                                 :class="validationClasses.password">
                                {{ validationMessages.password }}
                            </div>
                        </div>

                        <div class="form-group">
                            <label>ç¡®è®¤å¯†ç :</label>
                            <input 
                                type="password" 
                                v-model="formData.confirmPassword"
                                placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç "
                            >
                            <div v-if="validationMessages.confirmPassword" 
                                 class="validation-message" 
                                 :class="validationClasses.confirmPassword">
                                {{ validationMessages.confirmPassword }}
                            </div>
                        </div>

                        <div class="form-group">
                            <label>ä¸ªäººç®€ä»‹:</label>
                            <textarea 
                                v-model="formData.bio"
                                placeholder="è¯·è¾“å…¥ä¸ªäººç®€ä»‹ (å¯é€‰ï¼Œæœ€å¤š200å­—)"
                            ></textarea>
                            <div v-if="validationMessages.bio" 
                                 class="validation-message" 
                                 :class="validationClasses.bio">
                                {{ validationMessages.bio }}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç»ƒä¹ 3ï¼šç”¨æˆ·è¡Œä¸ºè¿½è¸ª -->
                <div class="exercise">
                    <h2 class="exercise-title">ğŸ“Š ç»ƒä¹ 3ï¼šç”¨æˆ·è¡Œä¸ºè¿½è¸ª</h2>
                    <p class="exercise-description">
                        ä½¿ç”¨æ·±åº¦ä¾¦å¬å™¨ç›‘æ§ç”¨æˆ·èµ„æ–™å˜åŒ–ï¼Œè®°å½•ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ã€‚
                    </p>

                    <div class="user-profile">
                        <div class="profile-header">
                            <div class="profile-avatar">
                                {{ userProfile.name ? userProfile.name.charAt(0).toUpperCase() : 'U' }}
                            </div>
                            <div class="profile-info">
                                <h3>{{ userProfile.name || 'æœªè®¾ç½®å§“å' }}</h3>
                                <p>{{ userProfile.email || 'æœªè®¾ç½®é‚®ç®±' }}</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>å§“å:</label>
                            <input type="text" v-model="userProfile.name" placeholder="è¯·è¾“å…¥å§“å">
                        </div>

                        <div class="form-group">
                            <label>é‚®ç®±:</label>
                            <input type="email" v-model="userProfile.email" placeholder="è¯·è¾“å…¥é‚®ç®±">
                        </div>

                        <div class="form-group">
                            <label>å¹´é¾„:</label>
                            <input type="number" v-model.number="userProfile.age" placeholder="è¯·è¾“å…¥å¹´é¾„">
                        </div>

                        <div class="form-group">
                            <label>åŸå¸‚:</label>
                            <input type="text" v-model="userProfile.city" placeholder="è¯·è¾“å…¥æ‰€åœ¨åŸå¸‚">
                        </div>

                        <h4 style="margin: 20px 0 10px 0; color: #2d3436;">ğŸ“ è¡Œä¸ºæ—¥å¿—</h4>
                        <div class="activity-log">
                            <div v-for="activity in activityLog" :key="activity.id" class="activity-item">
                                <span class="activity-time">{{ activity.time }}</span>
                                {{ activity.message }}
                            </div>
                            <div v-if="activityLog.length === 0" class="activity-item">
                                æš‚æ— æ´»åŠ¨è®°å½•
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è‡ªåŠ¨ä¿å­˜çŠ¶æ€ -->
                <div v-if="autoSaveStatus" class="auto-save-status" :class="autoSaveClass">
                    {{ autoSaveStatus }}
                </div>

                <!-- å­¦ä¹ æç¤º -->
                <div class="tips">
                    <h4>ğŸ’¡ å­¦ä¹ è¦ç‚¹</h4>
                    <ul>
                        <li><strong>é˜²æŠ–æŠ€æœ¯ï¼š</strong>ä½¿ç”¨setTimeoutå»¶è¿Ÿæ‰§è¡Œï¼Œé¿å…é¢‘ç¹è§¦å‘</li>
                        <li><strong>æ·±åº¦ä¾¦å¬ï¼š</strong>ä½¿ç”¨deepé€‰é¡¹ç›‘æ§å¯¹è±¡å†…éƒ¨å±æ€§å˜åŒ–</li>
                        <li><strong>ç«‹å³æ‰§è¡Œï¼š</strong>ä½¿ç”¨immediateé€‰é¡¹åœ¨ä¾¦å¬å™¨åˆ›å»ºæ—¶ç«‹å³æ‰§è¡Œ</li>
                        <li><strong>å¼‚æ­¥æ“ä½œï¼š</strong>ä¾¦å¬å™¨ä¸­å¯ä»¥æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œå¦‚APIè°ƒç”¨</li>
                        <li><strong>æ¸…ç†æœºåˆ¶ï¼š</strong>åœ¨ç»„ä»¶é”€æ¯æ—¶æ¸…ç†å®šæ—¶å™¨å’Œäº‹ä»¶ç›‘å¬å™¨</li>
                        <li><strong>æ€§èƒ½è€ƒè™‘ï¼š</strong>é¿å…åœ¨ä¾¦å¬å™¨ä¸­æ‰§è¡Œè¿‡äºå¤æ‚çš„æ“ä½œ</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, watch, computed, onUnmounted } = Vue

        createApp({
            setup() {
                // æœç´¢ç›¸å…³æ•°æ®
                const searchQuery = ref('')
                const searchResults = ref([])
                const searchStatus = ref('')
                const isSearching = ref(false)

                // è¡¨å•æ•°æ®
                const formData = ref({
                    username: '',
                    email: '',
                    password: '',
                    confirmPassword: '',
                    bio: ''
                })

                const validationMessages = ref({})
                const validationClasses = ref({})

                // ç”¨æˆ·èµ„æ–™
                const userProfile = ref({
                    name: '',
                    email: '',
                    age: null,
                    city: ''
                })

                const activityLog = ref([])
                const autoSaveStatus = ref('')
                const autoSaveClass = ref('')

                // æ¨¡æ‹Ÿæ•°æ®
                const mockData = [
                    { id: 1, title: 'iPhone 15 Pro', description: 'æœ€æ–°æ¬¾è‹¹æœæ‰‹æœºï¼Œæ€§èƒ½å¼ºåŠ²' },
                    { id: 2, title: 'MacBook Air M2', description: 'è½»è–„ä¾¿æºçš„ç¬”è®°æœ¬ç”µè„‘' },
                    { id: 3, title: 'Vue.js æ•™ç¨‹', description: 'ä»å…¥é—¨åˆ°ç²¾é€šçš„Vue.jså­¦ä¹ æŒ‡å—' },
                    { id: 4, title: 'JavaScript é«˜çº§ç¼–ç¨‹', description: 'æ·±å…¥ç†è§£JavaScriptæ ¸å¿ƒæ¦‚å¿µ' },
                    { id: 5, title: 'å¼ ä¸‰', description: 'å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œä¸“æ³¨Vue.jså¼€å‘' },
                    { id: 6, title: 'æå››', description: 'å…¨æ ˆå¼€å‘è€…ï¼Œç†Ÿæ‚‰å¤šç§æŠ€æœ¯æ ˆ' },
                    { id: 7, title: 'React ç»„ä»¶è®¾è®¡', description: 'æ„å»ºå¯å¤ç”¨çš„Reactç»„ä»¶' },
                    { id: 8, title: 'Node.js åç«¯å¼€å‘', description: 'ä½¿ç”¨Node.jsæ„å»ºé«˜æ€§èƒ½åç«¯æœåŠ¡' }
                ]

                let searchTimeout = null
                let saveTimeout = null

                // è®¡ç®—å±æ€§
                const searchStatusClass = computed(() => {
                    if (isSearching.value) return 'status-searching'
                    if (searchResults.value.length > 0) return 'status-results'
                    if (searchQuery.value && searchResults.value.length === 0) return 'status-no-results'
                    return ''
                })

                // ä¾¦å¬å™¨ - é˜²æŠ–æœç´¢
                watch(searchQuery, (newQuery, oldQuery) => {
                    // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
                    if (searchTimeout) {
                        clearTimeout(searchTimeout)
                    }

                    if (!newQuery.trim()) {
                        searchResults.value = []
                        searchStatus.value = ''
                        isSearching.value = false
                        return
                    }

                    isSearching.value = true
                    searchStatus.value = 'æ­£åœ¨æœç´¢...'

                    // è®¾ç½®é˜²æŠ–å»¶è¿Ÿ
                    searchTimeout = setTimeout(() => {
                        performSearch(newQuery)
                    }, 500) // 500msé˜²æŠ–å»¶è¿Ÿ
                })

                // ä¾¦å¬å™¨ - è¡¨å•éªŒè¯
                watch(() => formData.value.username, (newUsername) => {
                    validateUsername(newUsername)
                })

                watch(() => formData.value.email, (newEmail) => {
                    validateEmail(newEmail)
                })

                watch(() => formData.value.password, (newPassword) => {
                    validatePassword(newPassword)
                    // å¯†ç å˜åŒ–æ—¶ä¹Ÿè¦é‡æ–°éªŒè¯ç¡®è®¤å¯†ç 
                    if (formData.value.confirmPassword) {
                        validateConfirmPassword(formData.value.confirmPassword)
                    }
                })

                watch(() => formData.value.confirmPassword, (newConfirmPassword) => {
                    validateConfirmPassword(newConfirmPassword)
                })

                watch(() => formData.value.bio, (newBio) => {
                    validateBio(newBio)
                })

                // ä¾¦å¬å™¨ - æ·±åº¦ç›‘å¬ç”¨æˆ·èµ„æ–™å˜åŒ–
                watch(userProfile, (newProfile, oldProfile) => {
                    if (oldProfile) {
                        const changes = []
                        
                        Object.keys(newProfile).forEach(key => {
                            if (newProfile[key] !== oldProfile[key]) {
                                changes.push({
                                    field: key,
                                    oldValue: oldProfile[key],
                                    newValue: newProfile[key]
                                })
                            }
                        })

                        changes.forEach(change => {
                            addActivityLog(`ä¿®æ”¹äº†${getFieldName(change.field)}: "${change.oldValue}" â†’ "${change.newValue}"`)
                        })

                        // è‡ªåŠ¨ä¿å­˜
                        triggerAutoSave()
                    }
                }, { deep: true })

                // æ–¹æ³•
                const performSearch = (query) => {
                    // æ¨¡æ‹ŸAPIæœç´¢
                    const results = mockData.filter(item => 
                        item.title.toLowerCase().includes(query.toLowerCase()) ||
                        item.description.toLowerCase().includes(query.toLowerCase())
                    )

                    setTimeout(() => {
                        searchResults.value = results
                        isSearching.value = false
                        
                        if (results.length > 0) {
                            searchStatus.value = `æ‰¾åˆ° ${results.length} ä¸ªç»“æœ`
                        } else {
                            searchStatus.value = 'æœªæ‰¾åˆ°ç›¸å…³ç»“æœ'
                        }
                    }, 300) // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
                }

                const selectResult = (result) => {
                    searchQuery.value = result.title
                    searchResults.value = []
                    searchStatus.value = `å·²é€‰æ‹©: ${result.title}`
                }

                const validateUsername = (username) => {
                    if (!username) {
                        validationMessages.value.username = ''
                        validationClasses.value.username = ''
                        return
                    }

                    if (username.length < 3) {
                        validationMessages.value.username = 'ç”¨æˆ·åè‡³å°‘éœ€è¦3ä¸ªå­—ç¬¦'
                        validationClasses.value.username = 'validation-error'
                    } else if (username.length > 20) {
                        validationMessages.value.username = 'ç”¨æˆ·åä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦'
                        validationClasses.value.username = 'validation-error'
                    } else if (!/^[a-zA-Z0-9_]+$/.test(username)) {
                        validationMessages.value.username = 'ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿'
                        validationClasses.value.username = 'validation-error'
                    } else {
                        validationMessages.value.username = 'ç”¨æˆ·åå¯ç”¨'
                        validationClasses.value.username = 'validation-success'
                    }
                }

                const validateEmail = (email) => {
                    if (!email) {
                        validationMessages.value.email = ''
                        validationClasses.value.email = ''
                        return
                    }

                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
                    if (!emailRegex.test(email)) {
                        validationMessages.value.email = 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€'
                        validationClasses.value.email = 'validation-error'
                    } else {
                        validationMessages.value.email = 'é‚®ç®±æ ¼å¼æ­£ç¡®'
                        validationClasses.value.email = 'validation-success'
                    }
                }

                const validatePassword = (password) => {
                    if (!password) {
                        validationMessages.value.password = ''
                        validationClasses.value.password = ''
                        return
                    }

                    if (password.length < 8) {
                        validationMessages.value.password = 'å¯†ç è‡³å°‘éœ€è¦8ä¸ªå­—ç¬¦'
                        validationClasses.value.password = 'validation-error'
                    } else if (!/(?=.*[a-zA-Z])(?=.*\d)/.test(password)) {
                        validationMessages.value.password = 'å¯†ç å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—'
                        validationClasses.value.password = 'validation-warning'
                    } else {
                        validationMessages.value.password = 'å¯†ç å¼ºåº¦è‰¯å¥½'
                        validationClasses.value.password = 'validation-success'
                    }
                }

                const validateConfirmPassword = (confirmPassword) => {
                    if (!confirmPassword) {
                        validationMessages.value.confirmPassword = ''
                        validationClasses.value.confirmPassword = ''
                        return
                    }

                    if (confirmPassword !== formData.value.password) {
                        validationMessages.value.confirmPassword = 'ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´'
                        validationClasses.value.confirmPassword = 'validation-error'
                    } else {
                        validationMessages.value.confirmPassword = 'å¯†ç ç¡®è®¤æ­£ç¡®'
                        validationClasses.value.confirmPassword = 'validation-success'
                    }
                }

                const validateBio = (bio) => {
                    if (!bio) {
                        validationMessages.value.bio = ''
                        validationClasses.value.bio = ''
                        return
                    }

                    if (bio.length > 200) {
                        validationMessages.value.bio = 'ä¸ªäººç®€ä»‹ä¸èƒ½è¶…è¿‡200ä¸ªå­—ç¬¦'
                        validationClasses.value.bio = 'validation-error'
                    } else {
                        validationMessages.value.bio = `è¿˜å¯ä»¥è¾“å…¥ ${200 - bio.length} ä¸ªå­—ç¬¦`
                        validationClasses.value.bio = 'validation-success'
                    }
                }

                const addActivityLog = (message) => {
                    const now = new Date()
                    const timeString = now.toLocaleTimeString()
                    
                    activityLog.value.unshift({
                        id: Date.now(),
                        time: timeString,
                        message: message
                    })

                    // åªä¿ç•™æœ€è¿‘20æ¡è®°å½•
                    if (activityLog.value.length > 20) {
                        activityLog.value = activityLog.value.slice(0, 20)
                    }
                }

                const getFieldName = (field) => {
                    const fieldNames = {
                        name: 'å§“å',
                        email: 'é‚®ç®±',
                        age: 'å¹´é¾„',
                        city: 'åŸå¸‚'
                    }
                    return fieldNames[field] || field
                }

                const triggerAutoSave = () => {
                    if (saveTimeout) {
                        clearTimeout(saveTimeout)
                    }

                    autoSaveStatus.value = 'æ­£åœ¨ä¿å­˜...'
                    autoSaveClass.value = 'save-saving'

                    saveTimeout = setTimeout(() => {
                        // æ¨¡æ‹Ÿä¿å­˜åˆ°æœåŠ¡å™¨
                        autoSaveStatus.value = 'å·²è‡ªåŠ¨ä¿å­˜'
                        autoSaveClass.value = 'save-success'
                        
                        setTimeout(() => {
                            autoSaveStatus.value = ''
                            autoSaveClass.value = ''
                        }, 2000)
                    }, 1000)
                }

                // æ¸…ç†å®šæ—¶å™¨
                onUnmounted(() => {
                    if (searchTimeout) clearTimeout(searchTimeout)
                    if (saveTimeout) clearTimeout(saveTimeout)
                })

                return {
                    searchQuery,
                    searchResults,
                    searchStatus,
                    searchStatusClass,
                    formData,
                    validationMessages,
                    validationClasses,
                    userProfile,
                    activityLog,
                    autoSaveStatus,
                    autoSaveClass,
                    selectResult
                }
            }
        }).mount('#app')
    </script>
</body>
</html>